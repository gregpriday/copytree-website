@import 'tailwindcss';
@plugin "@tailwindcss/typography";

/* Define dark variant for next-themes compatibility */
@custom-variant dark (&:is(.dark *));

:root {
	/* Light Mode Palette (Default) */
	--background: #ffffff; /* white */
	--foreground: #09090b; /* zinc-950 - nearly black */
	--primary: oklch(0.627 0.17 149); /* green-600 converted to OKLCH */
	--primary-foreground: #ffffff;
	--secondary: #f4f4f5; /* zinc-100 */
	--secondary-foreground: #09090b;
	--muted: #f4f4f5; /* zinc-100 */
	--muted-foreground: #52525b; /* zinc-600 for better contrast ~7:1 */
	--accent: #f4f4f5; /* zinc-100 */
	--accent-foreground: #09090b;
	--destructive: #ef4444; /* red-500 */
	--destructive-foreground: #ffffff;
	--border: #e4e4e7; /* zinc-200 */
	--input: #e4e4e7; /* zinc-200 */
	--ring: #16a34a; /* green-600 */
	--font-space-grotesk: 'Space Grotesk', system-ui, sans-serif;

	/* Light mode primary scale - darker primary (L=0.627) */
	--color-primary-50: oklch(0.95 0.03 149);
	--color-primary-100: oklch(0.92 0.06 149);
	--color-primary-200: oklch(0.86 0.12 149);
	--color-primary-300: oklch(0.78 0.17 149);
	--color-primary-400: oklch(0.69 0.2 149);
	--color-primary-500: var(--primary);
	--color-primary-600: oklch(0.6 0.19 149);
	--color-primary-700: oklch(0.5 0.16 149);
	--color-primary-800: oklch(0.41 0.13 149);
	--color-primary-900: oklch(0.34 0.1 149);
	--color-primary-950: oklch(0.23 0.07 149);

	/* Header shadow for light mode */

	/* Light mode additions */
	--color-glow-green: oklch(0.627 0.17 149 / 0.08); /* Darker green for light mode visibility */
}

.dark {
	/* Deep Forest Dark Mode Palette - Enhanced for professionalism */
	--background: #050506; /* Slightly darker than #09090b for depth */
	--foreground: #fafafa; /* zinc-50 - clean white */
	--primary: oklch(0.71 0.185 149); /* green-500 converted to OKLCH - slightly desaturated */
	--primary-foreground: #09090b;
	--secondary: #18181b; /* zinc-900 */
	--secondary-foreground: #fafafa;
	--muted: #1a1a1e; /* Deeper mute for better contrast */
	--muted-foreground: #a1a1aa; /* zinc-400 */
	--accent: #18181b; /* zinc-900 */
	--accent-foreground: #fafafa;
	--destructive: #ef4444; /* red-500 - same in both modes */
	--destructive-foreground: #fafafa;
	--border: #27272a; /* zinc-800 */
	--input: #27272a; /* zinc-800 */
	--ring: #22c55e; /* green-500 */

	/* Dark mode primary scale - brighter primary (L=0.723), fixed lightness progression */
	--color-primary-50: oklch(0.97 0.04 149);
	--color-primary-100: oklch(0.94 0.07 149);
	--color-primary-200: oklch(0.88 0.13 149);
	--color-primary-300: oklch(0.82 0.16 149);
	--color-primary-400: oklch(0.77 0.185 149); /* L=0.77 > 0.723 */
	--color-primary-500: var(--primary); /* L=0.723 */
	--color-primary-600: oklch(0.66 0.18 149); /* L=0.66 < 0.723 */
	--color-primary-700: oklch(0.56 0.155 149);
	--color-primary-800: oklch(0.46 0.125 149);
	--color-primary-900: oklch(0.36 0.095 149);
	--color-primary-950: oklch(0.25 0.065 149);

	/* Header shadow for dark mode */

	/* Dark mode additions */
	--color-glow-green: oklch(0.723 0.192 149 / 0.1); /* Brighter for dark */
}

@theme inline {
	/* Semantic color tokens that adapt to theme */
	--color-background: var(--background);
	--color-foreground: var(--foreground);
	--color-primary: var(--primary);
	--color-primary-foreground: var(--primary-foreground);
	--color-secondary: var(--secondary);
	--color-secondary-foreground: var(--secondary-foreground);
	--color-muted: var(--muted);
	--color-muted-foreground: var(--muted-foreground);
	--color-accent: var(--accent);
	--color-accent-foreground: var(--accent-foreground);
	--color-destructive: var(--destructive);
	--color-destructive-foreground: var(--destructive-foreground);
	--color-border: var(--border);
	--color-input: var(--input);
	--color-ring: var(--ring);

	/* Enable dark mode support */
	--default-color-scheme: light;
	--dark-color-scheme: dark;

	/* Primary scale will be defined per theme mode to fix lightness inversion */

	/* Secondary accent - Muted emerald (overriding Tailwind's emerald) */
	--color-emerald: #10b981;
	--color-emerald-50: oklch(0.95 0.025 163);
	--color-emerald-100: oklch(0.92 0.05 163);
	--color-emerald-200: oklch(0.86 0.1 163);
	--color-emerald-300: oklch(0.78 0.14 163);
	--color-emerald-400: oklch(0.69 0.17 163);
	--color-emerald-500: #10b981; /* Base - muted */
	--color-emerald-600: oklch(0.6 0.16 163);
	--color-emerald-700: oklch(0.5 0.13 163);
	--color-emerald-800: oklch(0.41 0.11 163);
	--color-emerald-900: oklch(0.34 0.08 163);
	--color-emerald-950: oklch(0.23 0.06 163);

	/* Tertiary accent - Teal */
	--color-teal: #14b8a6;
	--color-teal-50: oklch(0.95 0.026 181);
	--color-teal-100: oklch(0.92 0.052 181);
	--color-teal-200: oklch(0.86 0.104 181);
	--color-teal-300: oklch(0.78 0.146 181);
	--color-teal-400: oklch(0.69 0.176 181);
	--color-teal-500: #14b8a6; /* Base */
	--color-teal-600: oklch(0.6 0.166 181);
	--color-teal-700: oklch(0.5 0.137 181);
	--color-teal-800: oklch(0.41 0.113 181);
	--color-teal-900: oklch(0.34 0.084 181);
	--color-teal-950: oklch(0.23 0.062 181);

	/* Additional accents and effects */
	--color-glow-green: oklch(
		0.723 0.192 149 / 0.1
	); /* Subtle green glow (was rgba(34, 197, 94, 0.1)) */
	--color-selection-bg: var(--primary); /* Selection background */
	--color-selection-fg: var(--color-zinc-950); /* Selection foreground */
	--color-scrollbar-track: var(--color-zinc-900); /* Scrollbar track */
	--color-scrollbar-thumb: var(--color-zinc-700); /* Scrollbar thumb */
	--color-scrollbar-thumb-hover-start: var(--color-emerald-600); /* Gradient start for hover */
	--color-scrollbar-thumb-hover-end: var(--color-primary-600); /* Gradient end for hover */
	--color-pulse-glow: oklch(0.77 0.185 149 / 0.7); /* Pulse glow (was rgba(52, 211, 153, 0.7)) */
	--color-pulse-glow-mid: oklch(0.77 0.185 149 / 0.3); /* Mid-pulse opacity variations */
	--color-forest-pattern-grad-start: oklch(
		0.723 0.192 149 / 0.3
	); /* Forest bg gradient start (was #22C55E) */
	--color-forest-pattern-grad-mid: oklch(0.69 0.17 163 / 0.2); /* Mid (was #10B981) */
	--color-forest-pattern-grad-end: oklch(0.69 0.176 181 / 0.1); /* End (was #14B8A6) */
	--color-subtle-gradient: linear-gradient(
		to bottom,
		color-mix(in oklch, var(--color-primary-100) 5%, transparent),
		transparent
	);
	--color-button-glow-light: oklch(
		0.6 0.19 149 / 0.25
	); /* Light mode button hover (was rgba(22, 163, 74, 0.25)) */
	--color-button-glow-dark: oklch(
		0.723 0.192 149 / 0.3
	); /* Dark mode button hover (was rgba(34, 197, 94, 0.3)) */
	--color-pulse-down-start: transparent; /* Pulse animation transparent */
	--color-pulse-down-mid: oklch(0.77 0.185 149 / 0.3); /* Pulse mid low opacity */
	--color-pulse-down-peak: oklch(0.77 0.185 149 / 0.8); /* Pulse peak */
	--color-pulse-down-end: transparent; /* Pulse end */

	/* Dark neutrals */
	--color-zinc-50: #fafafa;
	--color-zinc-100: #f4f4f5;
	--color-zinc-200: #e4e4e7;
	--color-zinc-300: #d4d4d8;
	--color-zinc-400: #a1a1aa;
	--color-zinc-500: #71717a;
	--color-zinc-600: #52525b;
	--color-zinc-700: #3f3f46;
	--color-zinc-800: #27272a;
	--color-zinc-900: #18181b;
	--color-zinc-950: #09090b;

	/* Success/Error/Warning using forest theme */
	--color-success: var(--color-emerald-500);
	--color-error: #ef4444;
	--color-warning: #f59e0b;

	/* Font stacks */
	--font-sans:
		var(--font-inter), ui-sans-serif, system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI',
		Roboto, 'Helvetica Neue', Arial, 'Noto Sans', sans-serif, 'Apple Color Emoji', 'Segoe UI Emoji',
		'Segoe UI Symbol', 'Noto Color Emoji';
	--font-mono:
		ui-monospace, SFMono-Regular, 'SF Mono', Consolas, 'Liberation Mono', Menlo, monospace;
	--font-space-grotesk: var(--font-space-grotesk), system-ui, sans-serif;

	/* Spacing (using px for precise control) */
	--spacing-px: 1px;
	--spacing-0: 0px;
	--spacing-0_5: 2px;
	--spacing-1: 4px;
	--spacing-1_5: 6px;
	--spacing-2: 8px;
	--spacing-2_5: 10px;
	--spacing-3: 12px;
	--spacing-3_5: 14px;
	--spacing-4: 16px;
	--spacing-5: 20px;
	--spacing-6: 24px;
	--spacing-7: 28px;
	--spacing-8: 32px;
	--spacing-9: 36px;
	--spacing-10: 40px;
	--spacing-11: 44px;
	--spacing-12: 48px;
	--spacing-14: 56px;
	--spacing-16: 64px;
	--spacing-20: 80px;
	--spacing-24: 96px;
	--spacing-28: 112px;
	--spacing-32: 144px;
	--spacing-36: 160px;
	--spacing-40: 160px;
	--spacing-44: 176px;
	--spacing-48: 192px;
	--spacing-52: 208px;
	--spacing-56: 224px;
	--spacing-60: 240px;
	--spacing-64: 256px;
	--spacing-72: 288px;
	--spacing-80: 320px;
	--spacing-96: 384px;

	/* Border radius */
	--radius-none: 0px;
	--radius-sm: 2px;
	--radius-base: 4px;
	--radius-md: 6px;
	--radius-lg: 8px;
	--radius-xl: 12px;
	--radius-2xl: 16px;
	--radius-3xl: 24px;
	--radius-full: 9999px;

	/* Enhanced shadows for professional depth */
	--shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
	--shadow-base: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
	--shadow-md: 0 4px 12px 0 rgb(0 0 0 / 0.12); /* Softer, more professional */
	--shadow-lg: 0 10px 15px -3px rgb(0 0 0 / 0.1), 0 4px 6px -4px rgb(0 0 0 / 0.1);
	--shadow-xl: 0 20px 25px -5px rgb(0 0 0 / 0.1), 0 8px 10px -6px rgb(0 0 0 / 0.1);
	--shadow-2xl: 0 25px 50px -12px rgb(0 0 0 / 0.25);
	--shadow-inner: inset 0 2px 4px 0 rgb(0 0 0 / 0.05);
	--shadow-none: 0 0 #0000;

	/* Transitions */
	--transition-all: all 200ms cubic-bezier(0.4, 0, 0.2, 1);
	--transition-colors:
		color, background-color, border-color, text-decoration-color, fill,
		stroke 150ms cubic-bezier(0.4, 0, 0.2, 1);
	--transition-opacity: opacity 150ms cubic-bezier(0.4, 0, 0.2, 1);
	--transition-shadow: box-shadow 150ms cubic-bezier(0.4, 0, 0.2, 1);
	--transition-transform: transform 150ms cubic-bezier(0.4, 0, 0.2, 1);

	/* Custom easing for responsive button feel */
	--ease-responsive: cubic-bezier(0.25, 1, 0.5, 1);

	/* Subtle gradient border effects for interactive elements */
	--gradient-border-subtle: linear-gradient(
		90deg,
		oklch(0.25 0.065 149 / 0.6),
		oklch(0.25 0.065 149 / 0.2)
	);

	/* Custom animations */
	--animate-fadeIn: fadeIn 0.8s ease-out forwards;
	--animate-slideUp: slideUp 0.3s ease-out forwards;
	--animate-pulse: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
	--animate-bounce: bounce 1s infinite;
}

/* Base styles */
body {
	background-color: var(--color-background);
	color: var(--color-foreground);
	line-height: 1.7; /* Enhanced for better scannability */
}

/* Design utilities for homepage refinements */

/* Glassmorphism surface */
.glass-surface {
	@apply border border-border/60 bg-background/50 backdrop-blur-sm;
}

/* Edge gradient hairline (top/bottom) */
.edge-hairline {
	background-image: linear-gradient(
		to right,
		rgba(0, 0, 0, 0),
		color-mix(in oklch, var(--color-border) 60%, transparent),
		rgba(0, 0, 0, 0)
	);
}

/* Section edge gradient at top */
.section-top-gradient {
	background: var(--color-subtle-gradient);
}

/* Noise overlay helper (theme-aware opacity) */
.noise-overlay {
	background-image: url('/noise-texture.png');
	background-repeat: repeat;
	opacity: 0.04;
}
.dark .noise-overlay {
	opacity: 0.06;
}

/* Reduce motion helper for elements that animate on hover/scroll */
@media (prefers-reduced-motion: reduce) {
	.rm-transition-none {
		transition: none !important;
		animation: none !important;
	}
}

/* Focus ring that respects tokens */
.focus-ring {
	outline: none;
	box-shadow:
		0 0 0 2px var(--color-background),
		0 0 0 4px var(--color-ring);
}

/* Subtle hover lift */
.hover-lift {
	transition:
		transform 150ms ease,
		box-shadow 150ms ease;
}
.hover-lift:hover {
	transform: translateY(-2px);
}

/* Button glow on hover (uses tokenized glow colors) */
.btn-glow:hover {
	box-shadow:
		0 0 0 0 rgba(0, 0, 0, 0),
		0 0 24px 8px color-mix(in oklch, var(--color-primary) 20%, transparent);
}

/* Clamp utilities for readability (fallbacks if plugin absent) */
.clamp-2 {
	display: -webkit-box;
	-webkit-line-clamp: 2;
	-webkit-box-orient: vertical;
	overflow: hidden;
}
.clamp-3 {
	display: -webkit-box;
	-webkit-line-clamp: 3;
	-webkit-box-orient: vertical;
	overflow: hidden;
}
/* Body and utility styles */
body {
	@apply text-base leading-relaxed; /* Increased line-height for better readability */
}
/* Text muted foreground utility removed - use opacity-80 inline */

/* Heading styles - font family and glow only, no sizes */
h1,
h2,
h3,
h4,
h5,
h6 {
	font-family: var(--font-space-grotesk);
}

/* Heading glow effects removed - now handled by component-specific utilities */

/* Section padding utility removed - use py-24 md:py-32 inline */

/* Section separator utility removed - use h-px bg-gradient-to-r from-transparent via-border/50 to-transparent inline */

/* Custom utility classes - most moved to inline Tailwind utilities */

/* Custom animations */
@keyframes fadeIn {
	from {
		opacity: 0;
		transform: translateY(20px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

@keyframes slideUp {
	from {
		opacity: 0;
		transform: translateY(20px);
	}
	to {
		opacity: 1;
		transform: translateY(0);
	}
}

/* Smooth scroll behavior removed - add to body if needed */

/* Global focus styles removed - now handled by component-specific utilities */

/* Selection color removed - can be added back as utility class if needed */

/* Scrollbar styling removed - can be added back as utility class if needed */

/* Prevent layout shift from scrollbar */
html {
	scrollbar-gutter: stable;
}

/* Animation delays - use animate-delay-[2s] or animate-delay-[4s] instead */

/* Duplicate breathing-pulse keyframe removed */

/* Custom breathing animation for documentation sidebar */
@keyframes breathing {
	0%,
	100% {
		opacity: 0.3;
		transform: scale(1);
	}
	50% {
		opacity: 1;
		transform: scale(1.2);
	}
}

.animate-breathing {
	animation: breathing 3.5s ease-in-out infinite;
}

/* Custom container max-width utility */
.max-w-container {
	max-width: 1672px;
}

/* Subtle gradient border hover effect for interactive elements */
.subtle-gradient-border-hover {
	position: relative;
	background-clip: padding-box;
}

.subtle-gradient-border-hover:hover::before {
	content: '';
	position: absolute;
	inset: 0;
	padding: 1px;
	background: var(--gradient-border-subtle);
	border-radius: inherit;
	mask:
		linear-gradient(#fff 0 0) content-box,
		linear-gradient(#fff 0 0);
	mask-composite: xor;
	-webkit-mask:
		linear-gradient(#fff 0 0) content-box,
		linear-gradient(#fff 0 0);
	-webkit-mask-composite: xor;
	pointer-events: none;
	transition: opacity 200ms var(--ease-responsive);
}

/* Enhanced button shadow bloom effect */
.shadow-bloom {
	transition:
		box-shadow 300ms var(--ease-responsive),
		transform 200ms var(--ease-responsive),
		background-color 200ms var(--ease-responsive);
}

/* Unused gradient-rotate keyframe removed */

/* Pulse animation migrated to inline styles */

/* Unused pulse-glow keyframe removed */

/* Unused keyframe removed */

/* Gradient border card - use Tailwind classes instead:
   Base: relative bg-white dark:bg-zinc-950 rounded-xl overflow-hidden transition-all duration-300 hover:brightness-105
   For gradient effect, use pseudo-elements with Tailwind
*/

/* Feature cards that are always dark - use !bg-zinc-950 instead */

/* Forest background pattern migrated to inline styles in CallToAction.tsx */

/* Pulse-down keyframe removed - replaced with inline animations */

/* Pulse animation pseudo-element migrated to inline styles */

/* Global button styles removed - now handled by component-specific utilities */

/* Reduced motion support */
@media (prefers-reduced-motion: reduce) {
	*,
	*::before,
	*::after {
		animation-duration: 0.01ms !important;
		animation-iteration-count: 1 !important;
		transition-duration: 0.01ms !important;
		scroll-behavior: auto !important;
	}

	/* Unused gradient-border-card references removed */
}

/* Footer utilities migrated to inline styles */

/* Section divider utility migrated to inline styles */

/* Line clamp utility - use line-clamp-2 Tailwind class instead */

/* Code block line numbers */
.line-numbers {
	counter-reset: line;
	padding-left: 4rem;
}

.line-numbers .line {
	counter-increment: line;
	position: relative;
}

.line-numbers .line::before {
	content: counter(line);
	position: absolute;
	left: -4rem;
	width: 3rem;
	text-align: right;
	color: var(--color-zinc-500);
	user-select: none;
	padding-right: 1rem;
}
